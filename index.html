

<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>マイページ</title>
     <script
      src="https://kit.fontawesome.com/d0a601627a.js"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://yubinbango.github.io/yubinbango/yubinbango.js"
      charset="UTF-8"
    ></script>
    <link
      href="https://use.fontawesome.com/releases/v5.6.1/css/all.css"
      rel="stylesheet"
    />
  </head>
  <body>
          <h1>
        <img
          src="https://i.ibb.co/Wv8X3LVh/1.png"
          alt="IMG-5451"
          width="100px"
          height="100px"
        />
        クールシェア宝塚2025<br />
        スタンプラリーカード
      </h1>

    <script src="https://static.line-scdn.net/liff/edge/2.1/sdk.js"></script>
<script>
  liff
    .init({
      liffId: "2007154146-Y5jGo0G3",
    })
    .then(async () => {
      if (!liff.isLoggedIn()) {
        liff.login();
      } else {
        try {
          const profile = await liff.getProfile();
          const userId = profile.userId;

          // 各フォームにユーザーIDを追加
          ["userForm1", "userForm2", "userForm3", "userForm4"].forEach(
            (formId) => {
              const form = document.getElementById(formId);
              if (form) {
                const userIdField = document.createElement("input");
                userIdField.type = "hidden";
                userIdField.name = "userId";
                userIdField.value = userId;
                form.appendChild(userIdField);
              }
            }
          );

          // ボタンのテキストを変更
          document.querySelector(".button1").textContent = "ユーザー登録";
          document.querySelector(".button2").innerHTML = "スタンプラリー<br>カード";
          document.querySelector(".button3").textContent = "スタンプ獲得";
          document.querySelector(".button4").textContent = "終了証作成";
        } catch (err) {
          console.log("プロフィール取得エラー: ", err);
        }
      }
    })
    .catch((err) => {
      console.log("LIFF初期化エラー:", err);
    });
</script>
<script>
  window.onload = function(){
    const urlParams = new URLSearchParams(window.location.search);
    const tab = urlParams.get('tab');

        if (tab === 'registration') {
      changeRadio('registration');
    } else if (tab === 'stamp') {
      changeRadio('stamp');
    } else if (tab === 'mypage') {
      changeRadio('mypage');
    } else if (tab === 'certificate') {
      changeRadio('certificate');
    } else {
      // デフォルトの処理
      console.log('No matching tab parameter');
    }
  };
</script>

     

<div class="tabs">
  <input
    id="stamp"
    type="radio"
    name="tab_item"
    checked
    aria-label="スタンプ獲得"
  />
  <label class="tab_item" for="stamp">スタンプ獲得</label>

  <input id="mypage" type="radio" name="tab_item" aria-label="スタンプカード" />
  <label class="tab_item" for="mypage">スタンプカード</label>

  <input
    id="registration"
    type="radio"
    name="tab_item"
    aria-label="ユーザー登録"
  />
  <label class="tab_item blinking-link" for="registration">ユーザー登録</label>

  <input id="certificate" type="radio" name="tab_item" aria-label="終了証" />
  <label class="tab_item" for="certificate">終了証</label>


  
  <div class="tab_content" id="stamp_content">
    <div class="tab_content_description">
      <p class="c-txtsp">
        <form onsubmit="disableButton(this)"
        id="userForm3"
        action="https://script.google.com/macros/s/AKfycbw5IIpjvaJrujF8--k2-zx5CacyMmuLgdw0LDqEytoJj87P8Ns0UKHxCnyOabZv7Ft5/exec"
        method="post"
        >

          <h3 class="user">
            <a href="#" class="user-link" onclick="selectRadio('registration'); return false;">初めての方は、<br>ユーザー登録をしよう!!<br>ここをタップ!!</a>
          </h3>

        <script>
        function selectRadio(id) {
        const radio = document.getElementById(id);
        if (radio) {
        radio.checked = true;
        }
        }
        </script>

        <style>
          .blinking-link{
            color: red;
            text-align: center;
            animation: blinking 2s ease-in-out infinite alternate;
          }

          <style>
          .user-link{
            color: red;
            text-align: center;
            
          }

          @keyframes blinking {
            0% {
              opacity: 0;
            }

            100% {
              opacity: 1;
            }
          }
            
          </style>
        
          
        <h2 class="title">スポットIDを貼り付けて<br>スタンプをゲットしよう！</h2>
        <h5>※スポットのQRコードを先に読み取ってください</h5>
        <label for="spotId"
        >
      
        <span class="required">
          <h4>
          <button onclick="pasteFromClipboard()">①スポットID貼り付けは<br>ここをタップ！<br><br>👉【ペースト】をタップ</button
          ><br /><br></h4>

        <script>
        async function pasteFromClipboard() {
        try {
        const text = await navigator.clipboard.readText();
        document.getElementById("output").value = text;

       } catch (err) {
        alert("クリップボードの読み込みに失敗しました:" + err);
       }
    }
  </script>
        </span
        ></label
        ><br />
        <input type="text" name="spotId" id="output" required /><br />
        <!-- ユーザーIDは動的に追加されます -->
        <button class="button3" type="submit">ログインされていません</button>
        </form>

        

        <script>
        function disableButton(form) {
        const button = form.querySelector('button[type="submit"]');
        if (button) {
        button.disabled = true;
        button.textContent = "送信中・・・";
        }
        }
        </script>
        
        <h2 class="title">QRコードの読み取り</h2>
        <h4>QRコードの読み取りがまだの方はこちら↓</h4>
        <button type="button" onclick="location.href='https://liff.line.me/2007108080-jR8JqOgX'">ここをタップ</button>
        




        
      </p>
    </div>
  </div>
  <script>
    function changeRadio(id){
      document.getElementById(id).checked = true;
    }
  </script>



  
  <div class="tab_content" id="mypage_content">
    <div class="tab_content_description">
      <p class="c-txtsp">
       
          <h2 class="title">スタンプラリーカード</h2>
          <h3>現在の獲得スタンプ数を確認できます！</h3>
          <form onsubmit="disableButton(this)"
              id="userForm2"
              action="https://script.google.com/macros/s/AKfycbxf8TBrQJF8fLGrpiVdsTuTf20k8arvtkKsc5ldn-OTG3OV6Ig4AuXr_tinw0zOGS6RTQ/exec"
              method="post"
              >
           <!-- ユーザーIDは動的に追加されます -->
           <button class="button2" type="submit">ログインされていません</button>
          </form>

      </p>
    </div>
  </div>


  
  <div class="tab_content" id="registration_content">
    <div class="tab_content_description">
      <p class="c-txtsp">
        <h2 class="title">ユーザー登録</h2>
                        <form onsubmit="disableButton(this)"
                              id="userForm1"
                              action="https://script.google.com/macros/s/AKfycbx1-zodRBIuIhhQPkAioAHMwmYvXcuYCHpOtlamEu2K3h7qUdRXA6z18bk5gC7U2Ma1dw/exec"
                              method="post"
                              class="h-adr"
                        
                            >
                        <span class="p-country-name" style="display: none">Japan</span>
                        <h3 class="question">①イベントで使用する参加名(ニックネーム)を入力してください</h3>
                        
                        <input type="text" name="name" id="name" />
                        
                        <h4>
                          本名でなくて大丈夫です👌<br />
                          お好きな名前でご参加ください！!
                        </h4>
                        
                        <h3 class="question">②性別を教えてください</h3>
                        <label><input type="radio" name="sex" value="men" />男性</label>
                        <label><input type="radio" name="sex" value="women" />女性</label>
                        <label><input type="radio" name="sex" value="other" />その他</label>
                        
                        <h3 class="question">③年齢を教えてください</h3>
                        <label><input type="radio" name="age" value="0~19" />〜19歳</label>
                        <label><input type="radio" name="age" value="20~29" />20歳代</label>
                        <label><input type="radio" name="age" value="30~39" />30歳代</label><br>
                        <label><input type="radio" name="age" value="40~49" />40歳代</label>
                        <label><input type="radio" name="age" value="50~59" />50歳代</label>
                        <label><input type="radio" name="age" value="60~" />60歳〜</label>
                        
                        <h3 class="question">④職業を教えてください</h3>
                        <label><input type="radio" name="occupation" value="1" />小学生 </label>
                        <label><input type="radio" name="occupation" value="2" />中学生 </label>
                        <label><input type="radio" name="occupation" value="3" />高校生 </label>
                        <label><input type="radio" name="occupation" value="4" />大学生 </label
                        ><br />
                        <label
                          ><input type="radio" name="occupation" value="5" />経営者・役員
                        </label>
                        <label><input type="radio" name="occupation" value="6" />会社員 </label>
                        <label><input type="radio" name="occupation" value="7" />公務員 </label><br>
                        <label
                          ><input
                            type="radio"
                            name="occupation"
                            value="8"
                          />自営業・フリーランス </label
                        ><br />
                        <label
                          ><input type="radio" name="occupation" value="9" />契約社員・派遣社員
                        </label>
                        <label
                          ><input
                            type="radio"
                            name="occupation"
                            value="10"
                          />パート・アルバイト </label
                        ><br />
                        <label
                          ><input type="radio" name="occupation" value="11" />専業主婦(主夫)
                        </label>
                        <label
                          ><input type="radio" name="occupation" value="12" />定年退職
                        </label>

                        <label><input type="radio" name="occupation" value="13" />その他</label
                        ><br />
                        <input type="hidden" name="sexList" id="sexList" />
                        <input type="hidden" name="ageList" id="ageList" />
                        <input type="hidden" name="occupationList" id="occupationList" />
                          
                        <button class="button1" type="submit" value>ログインされていません</button> 
                        </form>

      </p>
    </div>
  </div>



  
  <div class="tab_content" id="certificate_content">
    <div class="tab_content_description">
      <p class="c-txtsp">
      <h2 class="title">終了証</h2>
        
      <form onsubmit="disableButton(this)"
        id="userForm4"
        action="https://script.google.com/macros/s/AKfycbwUlcCQ3DOFpv1U1x93tAv4yIWldbb0y0T3YxGZhEPf9bTuOvhkzTfJbP_AvakP6gUanw/exec"
        method="post"
        >
      <!-- ユーザーIDは動的に追加されます -->
      <button class="button4" type="submit">ログインされていません</button>
      </form>
        
        <h2 title>お問い合わせ</h2>
        <h3>※お急ぎの場合、公式LINEアカウントにお問合せください</h3>
        
        <h3>お問い合わせ内容をリストから選んでください</h3>   
        <select>
            <optgroup label=""></optgroup>
            <option value=""></option>           
            <optgroup label="全体">
                <option value="1">遊び方がわからない</option>
            </optgroup>
            <optgroup label="LINE友達追加">
                <option value="2">LINEで友達の追加方法がわからない</option>
            </optgroup>
            <optgroup label="ユーザー登録">
                <option value="3">ユーザー登録方法がわからない</option>              
                <option value="4">LINEで「認証」画面が出た</option>
                <option value="5">「ログインされていません」</option>  
                <option value="6">個人情報の取り扱いについて教えてほしい</option>
                <option value="7">参加名は何に使うのか</option>

            </optgroup>
            <optgroup label="スポットQRコードの読み取り">
                <option value="8">QRコードの読み取り方法がわからない</option>
                <option value="9">「端末のカメラを起動できません」とメッセージが出た</option>
                <option value="10">「LINEアプリ内で開いてください」とメッセージが出た</option>
                <option value="11">「無効なQRコードです」とメッセージが出た</option>
            </optgroup>

            <optgroup label="スポットIDのコピー">
              <option value="12">スポットIDのコピー方法がわからない</option>
              <option value="13">スポットIDの貼り付け先がわからない</option>
              <option value="14">スポットIDの貼り付け方がわからない</option>
            </optgroup>

            <optgroup label="スタンプ獲得フォーム">
                <option value="15">「×スポットIDが異なります。フォームで入力し直してください！」とメッセージが出た</option>
                <option value="16">「×登録されていません。ユーザー登録をしてください！」とメッセージが出た</option>
                <option value="17">「×本日、このスポットのスタンプは既に獲得済みです。明日以降獲得できます！」とメッセージが出た</option>
            </optgroup>

            <optgroup label="スタンプカード">
              <option value="18">「ユーザーが登録されていません」とメッセージが出た</option>
              <option value="19">景品の当選はいつ？</option>
              <option value="20">景品は何回応募できる？</option>                
          </optgroup>

            
            <optgroup label="景品の応募">
                <option value="21">景品はどのようなものがある？</option>
                <option value="22">景品の当選はいつ？</option>
                <option value="23">景品は何回応募できる？</option>                
            </optgroup>

            <optgroup label="限定画像">
              <option value="24">限定画像はスタンプ何個でプレゼント？</option>
              <option value="25">限定画像の保存方法</option>
          </optgroup>

        </select>

                    
                      

      </p>
    </div>
  </div>
</div>

<style>
  .title {
    border-bottom-style: double;
    border-color: blue;
    display: inline-block;
  }
  .tabs {
    margin-top: 50px;
    padding-bottom: 20px;
    background-color: #fff;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    width: 100%;
    margin: 0 auto;
  }

  .tab_item {
    width: calc(100% / 4);
    height: 50px;
    border-bottom: 3px solid #5ab4bd;
    background-color: #d9d9d9;
    line-height: 50px;
    font-size: 16px;
    text-align: center;
    color: #565656;
    display: block;
    float: left;
    text-align: center;
    font-weight: bold;
    font-size: 80%;
    transition: all 0.2s ease;
  }
  .tab_item:hover {
    opacity: 0.75;
  }

  /*ラジオボタンを全て消す*/
  input[name="tab_item"] {
    display: none;
  }

  /*タブ切り替えの中身のスタイル*/
  .tab_content {
    display: none;
    padding: 20px 20px 0;
    clear: both;
    overflow: hidden;
  }

  /*選択されているタブのコンテンツのみを表示*/
  #registration:checked ~ #registration_content,
  #mypage:checked ~ #mypage_content,
  #certificate:checked ~ #certificate_content,
  #stamp:checked ~ #stamp_content {
    display: block;
  }

  /*選択されているタブのスタイルを変える*/
  .tabs input:checked + .tab_item {
    background-color: #5ab4bd;
    color: #fff;
  }


    
  
</style>


      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      





 
 <nav>
    <ul class="menu">
      <li>
        <a href="https://chikarauemori.github.io/test57/" target="_self"
          ><i class="fa-solid fa-house"></i><br /><span class="iconname"
            >ホーム</span
          ></a
        >
      </li>
      <li>
        <a href="https://chikarauemori.github.io/test62/" target="_self"
          ><i class="fa-solid fa-location-dot"></i><br /><span class="iconname"
            >マップ</span
          ></a
        >
      </li>
      <li>
        <a
          href="
        https://liff.line.me/2007108080-jR8JqOgX" target="_self"
          ><i class="fa-solid fa-qrcode"></i><br /><span class="iconname"
            >QRコード</span
          ></a
        >
      </li>
      <li>
        <a href="https://liff.line.me/2007154146-Y5jGo0G3" target="_self"
          ><i class="fa-solid fa-circle-user"></i><br /><span class="iconname"
            >マイページ</span
          ></a
        >
      </li>
    </ul>
  </nav>
 
<style>
      .menu {
        position: fixed;
        left: 0;
        bottom: 0;
        background: white;
        width: 100%;
        display: flex;
        justify-content: space-around;
        padding: 10px 0;
        box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
      }

      .menu li {
        display: inline-block;
        text-align: center;
      }

      .menu a {
        text-decoration: none;
        color: black;
      }

      .menu a i {
        font-size: 24px;
      }

      .menu a span {
        display: block;
        font-size: 12px; /* テキストサイズ */
        margin-top: 5px;
      }

      @media (max-width: 768px) {
        .menu {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
        }

        .menu li {
          padding: 5px;
        }
      }

          h1 {
        font-family: sans-serif;
        display: flex;
        align-items: center; /* 縦方向の中央揃え */
        justify-content: center; /* 横方向の中央揃え */
        text-align: center;
        background: skyblue;
        padding-top: 10px;
        padding-bottom: 10px;
        padding-left: 10px;
        font-size: 85%;
      }

      input {
        font-size: 150%;
        background: skyblue;
        display: inline-block;
      }

      button {
        font-size: 150%;
        text-align: center;
        display: inline-block;
      }
      .information{
        border-style: dotted;
        display: inline-block;
      }

      .attention {
        width: 100%;
        border-style: double;
        border-color: red;
        color :red;
        font-family: sans-serif;
            }
      .qrUrl {
        color: red;
      }

      select {
        font-size: 100%;
      }

      .alert {
        border-style: double;
        border-color: red;
        width: 100%;
}

     .qrbutton {
       border-style: double;
        border-color: red;
        display: inline-block;
     }
      </style>
  </body>
</html>
